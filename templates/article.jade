
extends layout

block append vars
  if page.metadata.spot
    - bodyclass = page.metadata.spot

block prepend title
  | #{ page.title + " | "}

block append head
  if page.metadata.css
    each css in page.metadata.css
      link(rel='stylesheet', href= locals.url + '/css/' + css + '.css')

block hero
  if page.metadata.background
    section(class='hero ' + page.metadata.canvas, style='background-image: url(' + locals.url + '/img/' + page.metadata.background + ')')
      div.title-wrap.constrain
        h1.title= page.title
        p.description= page.metadata.description
        p.date= moment.utc(page.date).format('M.D.YYYY')

block content
  article.panel.white
    section.constrain.content!= page.html
  div.back
    a(href=contents.index.url) Â« Blog
  div.debug
    - for (var i = 0; i < contents.index.articles.length;  i++){
    -   var article = contents.index.articles[i]
    -   if (article == page){
    -     if (i !== 0){
    -       var previous = contents.index.articles[i - 1]
      p= previous.url
    -     }
    -     if (i !== contents.index.articles.length - 1){
    -       var next = contents.index.articles[i + 1]
      p= next.url
    -     }
    -   }
    - }

block append scripts
  if page.metadata.js
    each js in page.metadata.js
      script(src= locals.url + '/js/' + js + '.js')
